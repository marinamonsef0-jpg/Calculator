<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="text">
      <div class="test" id="cont"></div>
      <div class="but">
        <div>
          <button class="btn-bu" onclick="clearr('C')">C</button>
          <button class="btn" onclick="addNum(7)">7</button>
          <button class="btn" onclick="addNum(4)">4</button>
          <button class="btn" onclick="addNum(1)">1</button>
          <button class="btn" onclick="addNum(0)">0</button>

        </div>

        <div>
          <button class="btn-bu">+/-</button>
          <button class="btn" onclick="addNum(8)">8</button>
          <button class="btn" onclick="addNum(5)">5</button>
          <button class="btn" onclick="addNum(2)">2</button>
          <button class="btn">.</button>

        </div>

        <div>
          <button class="btn-bu" onclick="setOp('%')">%</button>
          <button class="btn" onclick="addNum(9)">9</button>
          <button class="btn" onclick="addNum(6)">6</button>
          <button class="btn" onclick="addNum(3)">3</button>
          <button class="btn" onclick="off()">off</button>
        </div>

        <div>
          <button class="btn-b" onclick="setOp('÷')">÷</button>
          <button class="btn-b" onclick="setOp('x')">x</button>
          <button class="btn-b" onclick="setOp('-')">-</button>
          <button class="btn-b" onclick="setOp('+')">+</button>
          <button class="btn-b" onclick="calc()">=</button>
        </div>
      </div>
    </div>

<script>
    const container = document.getElementById("cont");

let num1 = "";
let num2 = "";
let op = "";

function addNum(num) {
    container.innerHTML += num;
}

function setOp(operation) {
    num1 = container.innerHTML;
    op = operation;
    container.innerHTML += " " + operation + " ";
}

function calc() {
    const arr = container.innerHTML.split(" ");
    num2 = arr[2];
    makeOperation();
}

function makeOperation() {
    let result;

    if (op == '+') result = parseFloat(num1) + parseFloat(num2);
    else if (op == '-') result = parseFloat(num1) - parseFloat(num2);
    else if (op == '÷') result = parseFloat(num1) / parseFloat(num2);
    else if (op == 'x') result = parseFloat(num1) * parseFloat(num2);
    else if (op == '%') result = parseFloat(num1) % parseFloat(num2);

    container.innerHTML = result;

    // reset variables (عشان تبدأي عملية جديدة)
    num1 = "";
    num2 = "";
    op = "";
}

function clearr() {
    container.innerHTML = "";
    num1 = "";
    num2 = "";
    op = "";
}

function off() {
    container.innerHTML = "Calculator off";
    num1 = "";
    num2 = "";
    op = "";
}
    </script>
  </body>
</html>